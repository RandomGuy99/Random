Once the BERTS are unique,

Check if the BERT is active based on the bertID, If active stop and throw an error to WFM.

If not active, check if the BERT exists in database. If not exists insert in database. with version as 1.and BERT_ID=BERT_Version

If exists, check with the input and if different insert a new record in BERT table by fetching the max version of the BERT and increment it by 1.

After inserting new and updating the bert, we should insert (worktype, userid,status) in SNAKETEST table and then get the TESTID value as it is auto increment.

After getting the value, insert BERT_ID and test ID in bundle and bundle status table...